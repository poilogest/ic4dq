import matplotlib.pyplot as plt
import matplotlib.ticker as ticker
import numpy as np

x = [500000, 600000, 700000, 800000, 900000, 1000000, 1100000, 1200000, 1300000, 1400000, 1500000]
# Model Accuracy
y1 = [0.867340823292381, 0.8805748254245267, 0.8944194142857163, 0.9051336999999983, 0.9134670333333333, 0.9201336999999987, 0.9255882454545472, 0.9301336999999993, 0.9339798538461538, 0.9372765571428562, 0.9401337000000004] # NE linear
y2 = [0.9462077251768822, 0.945721960434703, 0.9457445062614859, 0.9446468392825461, 0.9463388594808838, 0.9470697385726559, 0.9484559831189494, 0.9502214739424885, 0.9513277701494096, 0.9526973809718501, 0.9533321964612536] # NE quadratic
y3 = [0.9561330946220384,  0.9601334888172985, 0.9629903319170731, 0.9651340895489102, 0.9668006494354593, 0.9681335703557388, 0.9692247508781797, 0.9701331894288326, 0.9709017412506139, 0.9715627547571118, 0.9721341220303588] # SWM linear
y4 = [0.9609993101073884, 0.9637442613658923, 0.9657445706469224, 0.9672711605901999, 0.9684771259555822, 0.9694554093930067, 0.9702658730136757, 0.9709489825519918, 0.971533103538385, 0.972038690811819, 0.9724806874547943] # SWM quadratic
y5 = [0.9150035636585475, 0.9204925560494835, 0.9250288601607478, 0.9289015812486505, 0.9322749612361239, 0.9352527078670948, 0.937905976837661, 0.9402869842049264, 0.9424370567624867, 0.9443865154456007, 0.9461615900365977] # NE2 linear
y6 = [0.9554715049561168, 0.9567530469993679, 0.9580599252996245,  0.9591317586716477,  0.9599813072628869, 0.9609828999276016, 0.9618750349544161, 0.9626451728908717, 0.9633197089289877, 0.9639179347632891, 0.9644539819047165] # NE2 quadratic
y7 = [0.950422034575375, 0.9509522789901047, 0.9509785506714736, 0.9501415114523394, 0.950190786941635, 0.9510948521223007, 0.9506379797070054] # New Linear
y8 = [0.9748812078043396] # New Quadratic

#cifar10
# y1 = [0.8024876889452217, 0.8159223491126906, 0.8299668342857135, 0.8406811199999994, 0.8490144533333341, 0.85568112, 0.8611356654545446, 0.8656811200000007, 0.8695272738461547, 0.8728239771428575, 0.8756811199999999]  # NE linear
# y2 = [0.8390910414345321, 0.8435632770641185, 0.8473764519712915, 0.8498987419304633, 0.8532946786777328, 0.8557074295737351, 0.8578163622121819, 0.8595126460457583, 0.8610707816421752, 0.8624511041116886, 0.8638344649276771]  # NE quadratic
# y3 = [0.8916805155044006, 0.8956809081701839, 0.898538056042832, 0.9006807270300802, 0.9023482630863575, 0.9036810046441477, 0.9047723835373093, 0.9056804624918635, 0.9064490308023433, 0.9071099109699989, 0.9076811602515872]  # SWM linear
# y4 = [0.8725476830136912, 0.8747609761772065, 0.8763554657513711, 0.8775598910370519, 0.8785034920108608, 0.8792634359917126, 0.8798890032943149, 0.8804133994437747, 0.8808594107032595, 0.8812438978559297, 0.881578892353884]  # SWM quadratic
# y5 = [0.8502993241916239, 0.8558218682502434, 0.8603876065651446, 0.864285735440157, 0.8676814092652292, 0.8706779183978977, 0.8733473733838509, 0.8757418183398851, 0.8779039053406958, 0.879863256922947, 0.8816460321389217]  # NE2 linear
# y6 = [0.8607719720118276, 0.8626012692741145, 0.8645986990265133, 0.866295083841148, 0.8676844859955121, 0.8688508614171002, 0.8698492261685739, 0.8707173477168447, 0.8714811542879797, 0.8721609543135794, 0.8727708813988374]  # NE2 quadratic

# fmnist
# y1 = [0.759828177927717, 0.7712294982116639, 0.7815588542857145, 0.7922731400000006, 0.8006064733333322, 0.807273140000001, 0.8127276854545467, 0.8172731399999986, 0.8211192938461527, 0.8244159971428556, 0.8272731400000013]  # NE linear
# y2 = [0.8697410905420355, 0.8697809038744414, 0.8702799586364798, 0.8714088956887784, 0.8717323662399165, 0.8738496020360398, 0.8747437408508908, 0.8761252072368064, 0.8768557208004552, 0.877497891887877, 0.8783035760428471]  # NE
# y3 = [0.843272271542326, 0.8472739058848867, 0.8501301784632217, 0.8522728077485597, 0.8539394585389727, 0.8552730817748764, 0.8563639187105434, 0.8572733358389419, 0.8580421112210392, 0.8587021369937391, 0.8592741112188791]  # SWM linear
# y4 = [0.8827354787354588, 0.88391662140888, 0.8848505185375397, 0.8855791300697676, 0.8861304380751401, 0.8865600928215122, 0.8869029934742876, 0.8871820174954957, 0.8874127961162016, 0.8876062909650843, 0.8877704427466391]  # SWM
# y5 = [0.8059289620741588, 0.8109430409416905, 0.8150569890040863, 0.8185593683783473, 0.821610369144916, 0.8243094464188456, 0.8267223597050638, 0.8288959497055838, 0.8308664648213947, 0.8326617492213579, 0.8343029364503615]  # NE2 linear
# y6 = [0.8783771660441893, 0.8796484843595119, 0.8805286121544588, 0.8811299291349524, 0.8816303473019697, 0.8822224611662748, 0.8825144180095542, 0.8829426008520719,0.8831678446777917, 0.8834860042252456, 0.8837218966277485]  # NE2

fig, ax = plt.subplots()
plt.figure(figsize=(10, 9))
plt.plot(x, y1, label="NE: Random Flipping", color="#F82817", marker='^', markersize=15, linestyle="--")
plt.plot(x, y2, label="NE: Instance Dependent", color="#F6B217", marker='^', markersize=15, linestyle="-")
plt.plot(x, y3, label="SWM: Random Flipping", color="#1786F6", marker='o', markersize=14, linestyle="--")
plt.plot(x, y4, label="SWM: Instance Dependent", color="#B14BF2", marker='o', markersize=14, linestyle="-")
plt.plot(x, y5, label="NE-INC: Random Flipping", color="#DB7093", marker='P', markersize=15, linestyle="--")
plt.plot(x, y6, label="NE-INC: Instance Dependent", color="#3CB371", marker='P', markersize=15, linestyle="-")

plt.grid(visible=True, alpha=0.3)

plt.legend(fontsize=17)
# plt.ylim(0.80, 0.91)
plt.xlim(400000, 1600000)
plt.xlabel('w', fontsize=27)
plt.ylabel("Model Accuracy", fontsize=27)
fig.tight_layout(pad=0.5)
plt.tick_params(labelsize=23, direction='in')

plt.savefig("./model_accuracy_w_fig_fmnist.pdf")
